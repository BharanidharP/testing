backend logic

new logic added by the develop branch
